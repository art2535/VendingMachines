<Window x:Class="VendingMachines.Desktop.Account.AccountWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VendingMachines.Desktop.Account"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Title="Личный кабинет" Height="700" Width="1000">
    <Window.Resources>
        <Style x:Key="RoundIconStyle" TargetType="Border">
            <Setter Property="Width" Value="15"/>
            <Setter Property="Height" Value="15"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Label Content="Лого" Grid.Column="0"
               HorizontalAlignment="Center" FontFamily="Britannic Bold"
               VerticalAlignment="Center" FontSize="25"/>
        <ToggleButton x:Name="UserDropdownButton" Grid.Column="1"
                      Width="250" Height="50"
                      HorizontalAlignment="Right"
                      Background="White" BorderBrush="Gray" BorderThickness="1"
                      Click="UserDropdownButton_Click">
            <ToggleButton.Content>
                <StackPanel Orientation="Horizontal">
                    <Image Source="/Resources/RussiaFlag.png"/>
                    <StackPanel Orientation="Vertical" Margin="5 0"
                                VerticalAlignment="Center">
                        <TextBlock x:Name="AccountName" FontSize="13"
                                   VerticalAlignment="Center"/>
                        <TextBlock x:Name="AccountRole" FontSize="13"
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </ToggleButton.Content>
            <ToggleButton.Template>
                <ControlTemplate TargetType="ToggleButton">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ContentPresenter/>
                    </Border>
                </ControlTemplate>
            </ToggleButton.Template>
            <ToggleButton.ContextMenu>
                <ContextMenu Placement="Bottom" 
                             HorizontalAlignment="Center">
                    <MenuItem Header="Мой профиль" 
                              x:Name="MyProfileMenuItem">
                        <MenuItem.Icon>
                            <Border Style="{StaticResource RoundIconStyle}">
                                <Image Source="/Resources/Profile.png"/>
                            </Border>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Мои сессии" 
                              x:Name="MySessionsMenuItem">
                        <MenuItem.Icon>
                            <Border Style="{StaticResource RoundIconStyle}">
                                <Image Source="/Resources/sessions.png"/>
                            </Border>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Выход" x:Name="ExitMenuItem"
                              Click="ExitMenuItem_Click">
                        <MenuItem.Icon>
                            <Border Style="{StaticResource RoundIconStyle}">
                                <Image Source="/Resources/exit.png"/>
                            </Border>
                        </MenuItem.Icon>
                    </MenuItem>
                </ContextMenu>
            </ToggleButton.ContextMenu>
        </ToggleButton>
        <StackPanel Grid.Column="0" Grid.Row="1" Background="Black">
            <TextBlock Text="Навигация" Foreground="White"
                       Margin="10" FontWeight="Bold"/>
            <Separator Background="Gray" Height="1"/>
            <Button Content="📋 Главная" Margin="10 5"
                    Background="Transparent" Foreground="White"
                    x:Name="MainButton" Click="MainButton_Click"/>
            <Button Content="📊 Монитор ТА" Margin="10 5"
                    Background="Transparent" Foreground="White"
                    x:Name="MonitorButton" Click="MonitorButton_Click"/>
            <Button Content="📄 Детальные отчеты" Margin="10 5"
                    Background="Transparent" Foreground="White"
                    x:Name="DetailReportsButton" Click="DetailReportsButton_Click"/>
            <Button Content="🛒 Учет ТМЦ" Margin="10 5"
                    Background="Transparent" Foreground="White"
                    x:Name="InventoryAccountingButton"
                    Click="InventoryAccountingButton_Click"/>
            <ToggleButton Content="Администрирование" Margin="10 5"
                    Background="Transparent" Foreground="White"
                    x:Name="AdminButton" Click="UserDropdownButton_Click">
                <ToggleButton.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Торговые автоматы"
                                  x:Name="VendingMachinesMenuItem"
                                  Click="VendingMachinesMenuItem_Click"/>
                        <MenuItem Header="Компании"/>
                        <MenuItem Header="Пользователи"/>
                        <MenuItem Header="Модемы"/>
                        <MenuItem Header="Дополнительные"/>
                    </ContextMenu>
                </ToggleButton.ContextMenu>
            </ToggleButton>
        </StackPanel>
        <Grid Grid.Column="1" Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Grid.Row="0"
                        Background="Black">
                <StackPanel Width="400">
                    <TextBlock Text="ООО Торговые Автоматы"
                               Foreground="White"
                               Padding="10" FontSize="18"/>
                </StackPanel>
                <StackPanel Width="400">
                    <TextBlock x:Name="PagesTextBlock"
                               Foreground="Gray"
                               Padding="10" FontSize="15"/>
                </StackPanel>
            </StackPanel>

            <Frame x:Name="MainFrame" Grid.Row="1" Background="Silver"
                   NavigationUIVisibility="Hidden"/>
        </Grid>
    </Grid>
</Window>